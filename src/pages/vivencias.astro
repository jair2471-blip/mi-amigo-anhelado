---
import PageLayout from '../layouts/PageLayout.astro';
---

<PageLayout title="Vivencias - H√©roes de la Fe">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

  <div class="main-container">
    <header style="text-align:center; padding: 40px 0;">
      <h1 class="title">Mi Amigo Anhelado</h1>
      <p class="subtitle">Historias que Transforman</p>
    </header>

    <div id="loader" style="text-align:center; color: #1a4d2e;">Cargando historias...</div>

    <div id="hero-gallery" style="display:none;">
      </div>

    <div class="nav-actions">
      <button onclick="window.prev()" class="btn-nav">‚Üê Anterior</button>
      <button onclick="window.next()" class="btn-nav">Siguiente ‚Üí</button>
    </div>

    <article class="poder-indexacion">
      <div class="divider"></div>
      <h2>La Verdad que Liberta: ¬øPor qu√© mirar a los H√©roes de la Fe?</h2>
      <p>
        En un mundo saturado de ruido y distracciones, volver a las ra√≠ces de la <strong>ense√±anza pura de Dios</strong> no es solo una opci√≥n, es una necesidad vital. Las vivencias de personajes como <em>Abraham, Ester y Pablo</em> no son simples relatos hist√≥ricos; son el mapa gen√©tico de una fe inquebrantable.
      </p>

      <h3>Transformaci√≥n a trav√©s del ejemplo</h3>
      <p>
        Nuestra plataforma, <strong>Mi Amigo Anhelado</strong>, nace con el prop√≥sito de conectar el coraz√≥n del hombre moderno con la sabidur√≠a eterna de las Escrituras. Al explorar cada <strong>vivencia b√≠blica</strong>, no solo leemos una historia; activamos un principio espiritual de perseverancia, lealtad y victoria en Cristo Jes√∫s.
      </p>

      <div class="info-grid">
        <div class="info-item">
          <strong>üìñ Escritura sin filtros:</strong> Acceso directo a la Palabra para una meditaci√≥n profunda.
        </div>
        <div class="info-item">
          <strong>üî• Inspiraci√≥n Diaria:</strong> Modelos de vida que desaf√≠an nuestra realidad actual.
        </div>
      </div>

      <blockquote>
        "La fe viene por el o√≠r, y el o√≠r, por la palabra de Dios." ‚Äî Este portal es ese eco necesario para tu crecimiento espiritual.
      </blockquote>
    </article>
    </div>

  <style is:inline>
    :root { --primary: #1a4d2e; --accent: #d4a574; --bg: #faf8f5; --text: #2c3e50; }
    
    .main-container { width: 100%; max-width: 650px; margin: 0 auto; padding: 20px; font-family: 'Crimson Text', serif; }
    .title { font-family: 'Playfair Display', serif; font-size: 2.8rem; color: var(--primary); margin: 0; }
    .subtitle { color: var(--accent); font-weight: bold; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 3px; }
    
    /* Estilos de la Tarjeta */
    .card {
      background: white; border-radius: 25px; padding: 40px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
      border-top: 12px solid var(--primary);
      animation: slideUp 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .badge-tema { background: rgba(212, 165, 116, 0.15); color: var(--accent); padding: 6px 18px; border-radius: 50px; font-weight: bold; font-size: 0.9rem; }
    .historia-txt { font-size: 1.35rem; line-height: 1.8; color: var(--text); margin: 30px 0; text-align: justify; }
    .palabra-box { background: #fdfaf6; padding: 25px; border-radius: 20px; border: 1px solid #f1ece4; margin-bottom: 30px; }
    .v-texto { font-style: italic; font-size: 1.3rem; color: var(--primary); display: block; margin-bottom: 5px; }
    .v-ref { font-weight: bold; color: var(--accent); font-size: 0.9rem; text-transform: uppercase; }
    .oracion-box { background: var(--primary); color: white; padding: 30px; border-radius: 20px; }

    /* Estilos de Navegaci√≥n */
    .nav-actions { display: flex; gap: 20px; margin-top: 40px; }
    .btn-nav { flex: 1; padding: 18px; border-radius: 50px; border: none; background: white; color: var(--primary); font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }

    /* ESTILOS DEL ART√çCULO SEO */
    .poder-indexacion { margin-top: 60px; padding: 40px; background: white; border-radius: 25px; line-height: 1.8; box-shadow: 0 10px 30px rgba(0,0,0,0.03); }
    .poder-indexacion h2 { font-family: 'Playfair Display'; color: var(--primary); font-size: 2rem; margin-top: 0; }
    .divider { width: 60px; height: 4px; background: var(--accent); margin-bottom: 30px; border-radius: 2px; }
    .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
    .info-item { background: #fdfaf6; padding: 15px; border-radius: 10px; border-left: 3px solid var(--primary); font-size: 0.95rem; }
    blockquote { background: #1a4d2e10; padding: 30px; font-style: italic; border-radius: 15px; text-align: center; color: var(--primary); font-weight: 600; margin: 30px 0; }

    @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } }
  </style>

  <script is:inline>
    const GITHUB_URL = "https://raw.githubusercontent.com/jair2471-blip/vivenciasbiblicas/main/vivencias-biblia.json";
    let vivencias = [];
    let currentIdx = 0;

    async function init() {
      try {
        const response = await fetch(GITHUB_URL);
        vivencias = await response.json();
        document.getElementById('loader').style.display = 'none';
        document.getElementById('hero-gallery').style.display = 'block';
        render();
      } catch (error) {
        document.getElementById('loader').innerText = "‚ùå Error al conectar con GitHub.";
      }
    }

    function render() {
      const v = vivencias[currentIdx];
      const container = document.getElementById('hero-gallery');
      const palabrasHTML = v.palabra.map(p => `
        <div style="margin-bottom:15px;">
          <span class="v-texto">"${p.texto}"</span>
          <span class="v-ref">${p.referencia}</span>
        </div>
      `).join('');

      container.innerHTML = `
        <div class="card">
          <div style="display:flex; justify-content:space-between; align-items:flex-start;">
            <h2 style="font-family:'Playfair Display'; margin:0; font-size:2.8rem; color:var(--primary);">${v.personaje}</h2>
            <span class="badge-tema">${v.tema}</span>
          </div>
          <p class="historia-txt">${v.historia}</p>
          <div class="palabra-box">
            <h4 style="margin:0 0 15px 0; color:var(--accent); font-size:0.8rem;">ESCRITURAS CLAVE</h4>
            ${palabrasHTML}
          </div>
          <div class="oracion-box">
            <h4>üôè ORACI√ìN</h4>
            <p style="margin:0; font-size:1.15rem; font-style: italic;">${v.oracion}</p>
          </div>
        </div>
      `;
    }

    window.next = () => { currentIdx = (currentIdx + 1) % vivencias.length; render(); window.scrollTo({top:0, behavior:'smooth'}); }
    window.prev = () => { currentIdx = (currentIdx - 1 + vivencias.length) % vivencias.length; render(); window.scrollTo({top:0, behavior:'smooth'}); }
    init();
  </script>
</PageLayout>
